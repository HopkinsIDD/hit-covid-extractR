<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plots case counts with intervention status timelines — intervention_epi • hitRcovid</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Plots case counts with intervention status timelines — intervention_epi" />
<meta property="og:description" content="This function plots the daily case counts (epi-curve) for a given country or admin1 unit with
as seven day rolling average. The status of select intervention information (border closures,
household confinement, universal mask mandates, restaurant closures, primary school closures,
and retail store closures) are also plotted. The admin1 plotting is only available for 11 countries." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hitRcovid</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/hitRcovid-vignette.html">my-vignette</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/HopkinsIDD/hitRcovid/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plots case counts with intervention status timelines</h1>
    <small class="dont-index">Source: <a href='https://github.com/HopkinsIDD/hitRcovid/blob/master/R/intervention_epi.R'><code>R/intervention_epi.R</code></a></small>
    <div class="hidden name"><code>intervention_epi.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function plots the daily case counts (epi-curve) for a given country or admin1 unit with
as seven day rolling average. The status of select intervention information (border closures,
household confinement, universal mask mandates, restaurant closures, primary school closures,
and retail store closures) are also plotted. The admin1 plotting is only available for 11 countries.</p>
    </div>

    <pre class="usage"><span class='fu'>intervention_epi</span>(
  <span class='no'>hit_data</span>,
  <span class='kw'>country</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>admin1</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>source</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"WHO"</span>, <span class='st'>"ECDC"</span>),
  <span class='kw'>case_threshold</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>first_date</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>last_date</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>date_format</span> <span class='kw'>=</span> <span class='st'>"%m/%d/%Y"</span>,
  <span class='kw'>include_title</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>hit_data</th>
      <td><p>the full HIT-COVID database pulled from GitHub, pulled using <a href='hit_pull.html'>hit_pull</a></p></td>
    </tr>
    <tr>
      <th>country</th>
      <td><p>country ISO 3166-1 alpha-3 code to plot
(see <a href='geo_lookup.html'>geo_lookup</a> for concordance of country codes to names)</p></td>
    </tr>
    <tr>
      <th>admin1</th>
      <td><p>first administrative unit GID codes to plot
(see <a href='geo_lookup.html'>geo_lookup</a> for concordance of admin 1 codes to names).</p></td>
    </tr>
    <tr>
      <th>source</th>
      <td><p>the source of the daily case count data, one of "ECDC" or "WHO" (default is "WHO").</p></td>
    </tr>
    <tr>
      <th>case_threshold</th>
      <td><p>threshold the total number of cases needs to exceed to start the plot
(default is 0).</p></td>
    </tr>
    <tr>
      <th>first_date</th>
      <td><p>character string indicating the earliest date to plot (default is first day where
the total number of cases is greater than the <code>case_threshold</code>).</p></td>
    </tr>
    <tr>
      <th>last_date</th>
      <td><p>character string indicating the latest date to plot (default is today)</p></td>
    </tr>
    <tr>
      <th>date_format</th>
      <td><p>character string indicating the format of the date inputs (default is "%m/%d/%Y").</p></td>
    </tr>
    <tr>
      <th>include_title</th>
      <td><p>logical indicating if the plot should have a title (default is TRUE)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The HIT-COVID database must first be loaded with <a href='hit_pull.html'>hit_pull</a> and fed into this function.
Only one country or admin1 unit can be plotted at a time and the resulting plot will include the
case counts for this location with select intervention data. The user can specify the date range
for the plot using <code>first_date</code> and <code>last_date</code>. Another way to restrict the plot is to change
<code>case_threshold</code> then the earliest date of the plot will be when the total number of cases
in the country exceeded <code>case_threshold</code>. If both <code>first_date</code> and <code>case_threshold</code>
are provided, <code>first_date</code> will be used as the start of the plot.</p>
<p>The source for the country level data is either the European Centre for Disease
Control (ECDC) or the World Health Organization (WHO) with the WHO as the default. The source for
the admin1 data varies depending on the package and can be seen in the
<a href='https://github.com/epiforecasts/covidregionaldata/tree/master/R'>covidregional data source code</a>.
The admin1 case counts data is pulled using <a href='epiforecasts.io/covidregionaldata//reference/get_regional_data.html'>get_regional_data</a>. As of now
this is only available for 11 countries: Afghanistan, Belgium, Brazil, Canada, Columbia, Germany,
India, Italy, Russia, UK, and USA. The admin1 units that are included in the HIT-COVID database
can be found by using <a href='get_admin1.html'>get_admin1</a>. As of 11/30/2020 the admin1 data for India and Afghanistan
does not work.</p>
<p>IMPORTANT note about intervention timelines printed under the epi curves. These final bars of each
timeline represent the last logged status of an intervention. For some locations, the intervention data
may not have been updated which means that older policies would appear to carry to the present when
they are not still active. Care should be taken when interpretting these plots without knowledge of
the completeness of the intervention data of the location of interest.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Sam Abbott, Katharine Sherratt, Jonnie Bevan, Hamish Gibbs, Joel Hellewell, James Munday,
Paul Campbell and Sebastian Funk (2020). covidregionaldata: Subnational Data for the
Covid-19 Outbreak. R package version 0.6.0.
<a href='https://CRAN.R-project.org/package=covidregionaldata'>https://CRAN.R-project.org/package=covidregionaldata</a></p>
<p>ECDC national data: <a href='https://opendata.ecdc.europa.eu/covid19'>https://opendata.ecdc.europa.eu/covid19</a></p>
<p>WHO national data: <a href='https://covid19.who.int'>https://covid19.who.int</a></p>
<p>Afghanistan admin1 data: <a href='https://data.humdata.org/dataset/afghanistan-covid-19-statistics-per-province'>https://data.humdata.org/dataset/afghanistan-covid-19-statistics-per-province</a></p>
<p>Belgium admin1 data: <a href='https://epistat.wiv-isp.be/covid/'>https://epistat.wiv-isp.be/covid/</a></p>
<p>Brazil admin1 data: <a href='https://github.com/wcota/covid19br'>https://github.com/wcota/covid19br</a></p>
<p>Canada admin1 data: <a href='https://health-infobase.canada.ca'>https://health-infobase.canada.ca</a></p>
<p>Columbia admin1 data: <a href='https://github.com/danielcs88/colombia_covid-19'>https://github.com/danielcs88/colombia_covid-19</a></p>
<p>Germany admin1 data: <a href='https://npgeo-corona-npgeo-de.hub.arcgis.com/datasets/dd4580c810204019a7b8eb3e0b329dd6_0'>https://npgeo-corona-npgeo-de.hub.arcgis.com/datasets/dd4580c810204019a7b8eb3e0b329dd6_0</a></p>
<p>India admin1 data: <a href='https://api.covid19india.org/csv/latest/state_wise_daily.csv'>https://api.covid19india.org/csv/latest/state_wise_daily.csv</a></p>
<p>Italy admin1 data: <a href='https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-regioni/dpc-covid19-ita-regioni.csv'>https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-regioni/dpc-covid19-ita-regioni.csv</a></p>
<p>Russia admin1 data: <a href='https://raw.githubusercontent.com/grwlf/COVID-19_plus_Russia/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_RU.csv'>https://raw.githubusercontent.com/grwlf/COVID-19_plus_Russia/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_RU.csv</a></p>
<p>UK admin1 data: <a href='https://coronavirus.data.gov.uk/details/cases'>https://coronavirus.data.gov.uk/details/cases</a></p>
<p>USA admin1 data: <a href='https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-states.csv'>https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-states.csv</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='hit_filter.html'>hit_filter</a></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Puling the HIT-COVID database</span>
<span class='no'>hit_data</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='hit_pull.html'>hit_pull</a></span>(<span class='kw'>add_first_case</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='co'># Plotting the case counts for India</span>
<span class='fu'>intervention_epi</span>(<span class='no'>hit_data</span>, <span class='kw'>country</span> <span class='kw'>=</span> <span class='st'>"IND"</span>)</div><div class='output co'>#&gt; <span class='message'>Registered S3 method overwritten by 'quantmod':</span>
#&gt; <span class='message'>  method            from</span>
#&gt; <span class='message'>  as.zoo.data.frame zoo </span></div><div class='img'><img src='intervention_epi-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Starting when there were more than 100 cases</span>
<span class='fu'>intervention_epi</span>(<span class='no'>hit_data</span>, <span class='kw'>country</span> <span class='kw'>=</span> <span class='st'>"IND"</span>, <span class='kw'>case_threshold</span> <span class='kw'>=</span> <span class='fl'>100</span>)</div><div class='img'><img src='intervention_epi-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Plotting the case counts for the New Zealand from February to May </span>
<span class='fu'>intervention_epi</span>(<span class='no'>hit_data</span>, <span class='kw'>country</span> <span class='kw'>=</span> <span class='st'>"NZL"</span>, <span class='kw'>first_date</span> <span class='kw'>=</span> <span class='st'>"3/1/2020"</span>, <span class='kw'>last_date</span> <span class='kw'>=</span> <span class='st'>"5/31/2020"</span>)</div><div class='img'><img src='intervention_epi-3.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Plotting the case counts for New Jersey, USA</span>
<span class='fu'>intervention_epi</span>(<span class='no'>hit_data</span>, <span class='kw'>admin1</span> <span class='kw'>=</span> <span class='st'>"USA.31_1"</span>)</div><div class='img'><img src='intervention_epi-4.png' alt='' width='700' height='433' /></div><div class='input'> 
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Sarah Leavitt, Hanmeng Xu, Qulu Zheng, Forrest Jones, Andrew Azman.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


