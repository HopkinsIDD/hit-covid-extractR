<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Subsets HIT-COVID database — hit_filter • hitRcovid</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Subsets HIT-COVID database — hit_filter" />
<meta property="og:description" content="This function subsets the HIT-COVID database after it has been loaded with hit_pull.
If no filtering arguments are supplied the entire database is returned.
There is the option to filter by continent, country, admin 1 unit, locality or intervention group." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hitRcovid</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/hitRcovid-vignette.html">my-vignette</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/HopkinsIDD/hitRcovid/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Subsets HIT-COVID database</h1>
    <small class="dont-index">Source: <a href='https://github.com/HopkinsIDD/hitRcovid/blob/master/R/hit_filter.R'><code>R/hit_filter.R</code></a></small>
    <div class="hidden name"><code>hit_filter.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function subsets the HIT-COVID database after it has been loaded with <a href='hit_pull.html'>hit_pull</a>.
If no filtering arguments are supplied the entire database is returned.
There is the option to filter by continent, country, admin 1 unit, locality or intervention group.</p>
    </div>

    <pre class="usage"><span class='fu'>hit_filter</span>(
  <span class='no'>hit_data</span>,
  <span class='kw'>continent</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>country</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>admin1</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>locality</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>intervention_group</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>include_national</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>include_admin1</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>include_locality</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>usa_county_data</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"include"</span>, <span class='st'>"exclude"</span>, <span class='st'>"restrict_to"</span>),
  <span class='kw'>remove_columns</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>hit_data</th>
      <td><p>the full HIT-COVID database pulled from GitHub, pulled using <a href='hit_pull.html'>hit_pull</a></p></td>
    </tr>
    <tr>
      <th>continent</th>
      <td><p>vector of continent names to filter the data to; should be one of
"Antarctica", "Asia", "Europe", "Africa", "Oceania", "North America", "South America"</p></td>
    </tr>
    <tr>
      <th>country</th>
      <td><p>vector of country ISO 3166-1 alpha-3 codes to filter the data to
(see <a href='geo_lookup.html'>geo_lookup</a> for concordance of country codes to names)</p></td>
    </tr>
    <tr>
      <th>admin1</th>
      <td><p>vector of the first administrative unit GID codes to filter the data to
(see <a href='geo_lookup.html'>geo_lookup</a> for concordance of admin 1 codes to names).</p></td>
    </tr>
    <tr>
      <th>locality</th>
      <td><p>vector of the names of localities to include (this is a free text field)</p></td>
    </tr>
    <tr>
      <th>intervention_group</th>
      <td><p>vector of intervention group to filter the data to
(see <a href='intervention_lookup.html'>intervention_lookup</a> column "intervention_group" or run <a href='get_interventions.html'>get_interventions</a> for options)</p></td>
    </tr>
    <tr>
      <th>include_national</th>
      <td><p>logical indicating if national-level data should be included (default is TRUE)</p></td>
    </tr>
    <tr>
      <th>include_admin1</th>
      <td><p>logical indicating if admin1-level data should be included (default is TRUE)</p></td>
    </tr>
    <tr>
      <th>include_locality</th>
      <td><p>logical indicating if locality data should be included (default is FALSE)</p></td>
    </tr>
    <tr>
      <th>usa_county_data</th>
      <td><p>character string indicating how to deal with USA county-level data: one
of "include", "exclude" or "restrict_to" (default is "exclude").</p></td>
    </tr>
    <tr>
      <th>remove_columns</th>
      <td><p>a logical indicating if columns with only missing values should be removed
(default is TRUE)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A dataframe with columns as described in the GitHub README
(<a href='https://github.com/HopkinsIDD/hit-covid'>https://github.com/HopkinsIDD/hit-covid</a>) but excluding any columns that have only missing
values if <code>remove_columns = TRUE</code></p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>All filtering arguments are optional. If none are provided, the entire database of national and
admin 1 unit data will be returned.Any or all of the arguments can be specified allowing
filtering by location, intervention type or both. The locality field is used infrequently in
this database and this filtering argument should only be used if it is known that the database
has a certain locality (lower than the admin1 level). The dataset is filtered in the following order:
continent, country, admin1, locality, intervention group</p>
<p>If filtering to certain admin1 units, national data will be included by default as often these
policies carry down to the admin units. If only the admin1 data is desired, set
<code>include_national</code> to FALSE. Conversely when filtering to certain countries or
continents, all admin1 information for those countries will be included by default. If only
national data is desired, set <code>include_admin1</code> to FALSE. Because the locality field is
rarely used, the locality (lower than admin1) data is excluded by default unless a locality is
specified for filtering or if <code>include_locality</code> is set to TRUE. If filtering by continent,
countries in "Eurasia" will be included when filtering to either "Europe" or "Asia".</p>
<p>As part of the larger effort, there was a special project to collect some USA county-level data.
If interested in only the data from that project, set <code>usa_county_data</code> to "restrict_to".
If you want to exclude the USA county-level data, set <code>usa_county_data</code> to "exclude",
if you want to include the USA county-level data along with other records,
set <code>usa_county_data</code> to "include". Note that continent, country, and admin1 filtering
take precedence and what USA county data is included will depend on these filtering arguments.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='hit_pull.html'>hit_pull</a> <a href='get_interventions.html'>get_interventions</a></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>#Pulling HIT-COVID database</span>
<span class='no'>hit_data</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='hit_pull.html'>hit_pull</a></span>()

<span class='co'>#Filtering to Africa</span>
<span class='no'>africa</span> <span class='kw'>&lt;-</span> <span class='fu'>hit_filter</span>(<span class='no'>hit_data</span>, <span class='kw'>continent</span> <span class='kw'>=</span> <span class='st'>"Africa"</span>)

<span class='co'>#Filtering to border closures in china</span>
<span class='no'>china</span> <span class='kw'>&lt;-</span> <span class='fu'>hit_filter</span>(<span class='no'>hit_data</span>, <span class='kw'>country</span> <span class='kw'>=</span> <span class='st'>"CHN"</span>, <span class='kw'>intervention_group</span> <span class='kw'>=</span> <span class='st'>"closed_border"</span>)

<span class='co'>#Filtering to New Jersey state and national data</span>
<span class='no'>nj</span> <span class='kw'>&lt;-</span> <span class='fu'>hit_filter</span>(<span class='no'>hit_data</span>, <span class='kw'>admin1</span> <span class='kw'>=</span> <span class='st'>"USA.31_1"</span>)

<span class='co'>#Filtering to just New Jersey state-level data</span>
<span class='no'>nj</span> <span class='kw'>&lt;-</span> <span class='fu'>hit_filter</span>(<span class='no'>hit_data</span>, <span class='kw'>admin1</span> <span class='kw'>=</span> <span class='st'>"USA.31_1"</span>, <span class='kw'>include_national</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='co'>#Filtering to all national data</span>
<span class='no'>national</span> <span class='kw'>&lt;-</span> <span class='fu'>hit_filter</span>(<span class='no'>hit_data</span>, <span class='kw'>include_admin1</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='co'>#Filtering to just USA county data</span>
<span class='no'>usa_county</span> <span class='kw'>&lt;-</span> <span class='fu'>hit_filter</span>(<span class='no'>hit_data</span>, <span class='kw'>usa_county_data</span> <span class='kw'>=</span> <span class='st'>"restrict_to"</span>)

<span class='co'>#Adding USA county data (default is to exclude)</span>
<span class='no'>no_county</span> <span class='kw'>&lt;-</span> <span class='fu'>hit_filter</span>(<span class='no'>hit_data</span>, <span class='kw'>usa_county_data</span> <span class='kw'>=</span> <span class='st'>"include"</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Sarah Leavitt, Hanmeng Xu, Qulu Zheng, Forrest Jones, Andrew Azman.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


